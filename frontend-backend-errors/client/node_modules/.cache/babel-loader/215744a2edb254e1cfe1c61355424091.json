{"ast":null,"code":"import _classCallCheck from \"/Users/pakchu/Desktop/React-Term-3/react/frontend-backend/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/pakchu/Desktop/React-Term-3/react/frontend-backend/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/pakchu/Desktop/React-Term-3/react/frontend-backend/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/pakchu/Desktop/React-Term-3/react/frontend-backend/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/pakchu/Desktop/React-Term-3/react/frontend-backend/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/pakchu/Desktop/React-Term-3/react/frontend-backend/client/src/Components/TaskList.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport jwt_decode from 'jwt-decode';\n\nvar TaskList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TaskList, _Component);\n\n  function TaskList(props) {\n    var _this;\n\n    _classCallCheck(this, TaskList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TaskList).call(this, props));\n\n    _this.handleEdit = function (id) {\n      _this.setState(function (prevState) {\n        return {\n          toggle: !prevState.toggle\n        };\n      }, function (prevState) {\n        console.log(prevState);\n\n        if (!_this.state.toggle && _this.state.currentState !== prevState.currentState) {\n          _this.handleServerEdit(id);\n        }\n      });\n    };\n\n    _this.handleServerEdit = function (id) {\n      var token = localStorage.getItem('jwtToken');\n      var decoded = jwt_decode(token);\n      var newObj = {\n        id: id,\n        newTodo: _this.state.currentState\n      };\n      axios.put(\"http://localhost:3001/todo/edittodo/\".concat(decoded.id, \"&_method=PUT\"), newObj).then(function (result) {\n        console.log(result);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.handleUpdateEdit = function (id) {\n      _this.setState({\n        currentState: _this.refs.updatedText.value\n      }, function () {\n        _this.props.handleUpdateEdit(id, _this.state.currentState);\n      });\n    };\n\n    _this.handleDelete = function (id) {\n      _this.props.handleDelete(id);\n    };\n\n    _this.handleChecked = function (id) {\n      _this.props.handleChecked(id);\n    };\n\n    _this.state = {\n      toggle: false,\n      currentState: ''\n    };\n    return _this;\n  }\n\n  _createClass(TaskList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        currentState: this.props.task.todo\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"li\", {\n        className: \"list-group-item \".concat(this.props.checked ? \"list-group-item-danger completed\" : \"\"),\n        key: this.props.task._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"button\",\n        className: \"float-right btn btn-danger  btn-sm\",\n        value: \"delete\",\n        style: {\n          textAlign: 'center',\n          marginLeft: 5\n        },\n        onClick: this.handleDelete.bind(this, this.props.task._id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"button\",\n        className: \"float-right btn btn-info  btn-sm\",\n        value: \"edit\",\n        style: {\n          textAlign: 'center'\n        },\n        onClick: this.handleEdit.bind(this, this.props.task._id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"checkbox\",\n        style: {\n          margin: \"7px 5px\"\n        },\n        className: \"float-right\",\n        checked: this.props.checked,\n        onChange: this.handleChecked.bind(this, this.props.task._id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }), this.state.toggle ? React.createElement(\"input\", {\n        value: this.state.currentState,\n        type: \"text\",\n        ref: \"updatedText\",\n        onChange: this.handleUpdateEdit.bind(this, this.props.task._id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }) : this.props.task.todo);\n    }\n  }]);\n\n  return TaskList;\n}(Component);\n/*\n\nimport React, { Component } from 'react'\n\nexport default class TaskList extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      toggle: false\n    }\n\n  }\n\n  handleEdit = (id) => {\n    this.setState({\n      toggle: !this.state.toggle\n    })\n  }\n\n  handleDelete = (id) => {\n\n  }\n  \n  handleChecked = (id) => {\n   this.props.handleChecked(id)\n  }\n\n  render() {\n\n    let task = [];\n\n    if (this.state.toggle) {\n      task = (\n        <li className={`list-group-item ${(this.props.checked) ? \"list-group-item-danger completed\" : \"\"}`} key={this.props.task.id} >\n          <input type=\"button\" className=\"float-right btn btn-danger  btn-sm\" value=\"delete\" style={{textAlign: 'center', marginLeft: 5}} onClick={this.handleDelete.bind(this, this.props.task.id)} />\n          <input type=\"button\" className=\"float-right btn btn-info  btn-sm\" value=\"edit\" style={{textAlign: 'center'}} onClick={this.handleEdit.bind(this, this.props.task.id)} />\n          <input type=\"checkbox\" style={{margin: \"7px 5px\"}} className=\"float-right\" checked={this.props.checked} onChange={this.handleChecked.bind(this, this.props.task.id)} />\n        {this.props.task.todo}\n       </li>\n      )\n    } else {\n      task = (\n        <li className={`list-group-item ${(this.props.checked) ? \"list-group-item-danger completed\" : \"\"}`} key={this.props.task.id} >\n          <input type=\"button\" className=\"float-right btn btn-danger  btn-sm\" value=\"delete\" style={{textAlign: 'center', marginLeft: 5}} onClick={this.handleDelete.bind(this, this.props.task.id)} />\n          <input type=\"button\" className=\"float-right btn btn-info  btn-sm\" value=\"edit\" style={{textAlign: 'center'}} onClick={this.handleEdit.bind(this, this.props.task.id)} />\n          <input type=\"checkbox\" style={{margin: \"7px 5px\"}} className=\"float-right\" checked={this.props.checked} onChange={this.handleChecked.bind(this, this.props.task.id)} />\n          {this.props.task.todo}\n      </li>\n      )\n    }\n\n    return (\n     {task}\n    )\n  }\n}\n\n\n*/\n\n\nexport { TaskList as default };","map":{"version":3,"sources":["/Users/pakchu/Desktop/React-Term-3/react/frontend-backend/client/src/Components/TaskList.js"],"names":["React","Component","axios","jwt_decode","TaskList","props","handleEdit","id","setState","prevState","toggle","console","log","state","currentState","handleServerEdit","token","localStorage","getItem","decoded","newObj","newTodo","put","then","result","catch","error","handleUpdateEdit","refs","updatedText","value","handleDelete","handleChecked","task","todo","checked","_id","textAlign","marginLeft","bind","margin"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios';\nimport jwt_decode from 'jwt-decode';\n\nexport default class TaskList extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      toggle: false,\n      currentState: ''\n    }\n  }\n\n  componentDidMount() {\n    this.setState({\n      currentState: this.props.task.todo\n    })\n  }\n\n \n  handleEdit = (id) => {\n    this.setState(prevState => ({\n      toggle: !prevState.toggle\n    }),(prevState) => {\n      console.log(prevState)\n      if (!this.state.toggle && this.state.currentState !== prevState.currentState) {\n        this.handleServerEdit(id)\n      }\n    }) \n  }\n\n\n  handleServerEdit = (id) => {\n\n    var token = localStorage.getItem('jwtToken');\n    const decoded = jwt_decode(token);\n\n    let newObj = {\n      id,\n      newTodo: this.state.currentState\n    }\n\n    axios.put(`http://localhost:3001/todo/edittodo/${decoded.id}&_method=PUT`, newObj)\n    .then(result => {\n      console.log(result)\n    })\n    .catch(error => {\n      console.log(error)\n    })\n\n  }\n\n\n  handleUpdateEdit = (id) => {\n\n    this.setState({\n      currentState: this.refs.updatedText.value\n    }, () => {\n      this.props.handleUpdateEdit(id, this.state.currentState)\n    })\n  }\n\n  handleDelete = (id) => {\n   this.props.handleDelete(id)\n  }\n  \n  handleChecked = (id) => {\n   this.props.handleChecked(id)\n  }\n\n  render() {\n    return (\n      <li className={`list-group-item ${(this.props.checked) ? \"list-group-item-danger completed\" : \"\"}`} key={this.props.task._id} >\n        <input type=\"button\" className=\"float-right btn btn-danger  btn-sm\" value=\"delete\" style={{textAlign: 'center', marginLeft: 5}} onClick={this.handleDelete.bind(this, this.props.task._id)} />\n        <input type=\"button\" className=\"float-right btn btn-info  btn-sm\" value=\"edit\" style={{textAlign: 'center'}} onClick={this.handleEdit.bind(this, this.props.task._id)} />\n        <input type=\"checkbox\" style={{margin: \"7px 5px\"}} className=\"float-right\" checked={this.props.checked} onChange={this.handleChecked.bind(this, this.props.task._id)} />\n        \n        {this.state.toggle ? <input value={this.state.currentState} \n                                    type=\"text\" \n                                    ref=\"updatedText\"\n                                    onChange={this.handleUpdateEdit.bind(this, this.props.task._id)} /> : this.props.task.todo}\n     \n    </li>\n\n    )\n  }\n}\n\n\n/*\n\nimport React, { Component } from 'react'\n\nexport default class TaskList extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      toggle: false\n    }\n\n  }\n\n  handleEdit = (id) => {\n    this.setState({\n      toggle: !this.state.toggle\n    })\n  }\n\n  handleDelete = (id) => {\n\n  }\n  \n  handleChecked = (id) => {\n   this.props.handleChecked(id)\n  }\n\n  render() {\n\n    let task = [];\n\n    if (this.state.toggle) {\n      task = (\n        <li className={`list-group-item ${(this.props.checked) ? \"list-group-item-danger completed\" : \"\"}`} key={this.props.task.id} >\n          <input type=\"button\" className=\"float-right btn btn-danger  btn-sm\" value=\"delete\" style={{textAlign: 'center', marginLeft: 5}} onClick={this.handleDelete.bind(this, this.props.task.id)} />\n          <input type=\"button\" className=\"float-right btn btn-info  btn-sm\" value=\"edit\" style={{textAlign: 'center'}} onClick={this.handleEdit.bind(this, this.props.task.id)} />\n          <input type=\"checkbox\" style={{margin: \"7px 5px\"}} className=\"float-right\" checked={this.props.checked} onChange={this.handleChecked.bind(this, this.props.task.id)} />\n        {this.props.task.todo}\n       </li>\n      )\n    } else {\n      task = (\n        <li className={`list-group-item ${(this.props.checked) ? \"list-group-item-danger completed\" : \"\"}`} key={this.props.task.id} >\n          <input type=\"button\" className=\"float-right btn btn-danger  btn-sm\" value=\"delete\" style={{textAlign: 'center', marginLeft: 5}} onClick={this.handleDelete.bind(this, this.props.task.id)} />\n          <input type=\"button\" className=\"float-right btn btn-info  btn-sm\" value=\"edit\" style={{textAlign: 'center'}} onClick={this.handleEdit.bind(this, this.props.task.id)} />\n          <input type=\"checkbox\" style={{margin: \"7px 5px\"}} className=\"float-right\" checked={this.props.checked} onChange={this.handleChecked.bind(this, this.props.task.id)} />\n          {this.props.task.todo}\n      </li>\n      )\n    }\n\n    return (\n     {task}\n    )\n  }\n}\n\n\n*/"]},"metadata":{},"sourceType":"module"}